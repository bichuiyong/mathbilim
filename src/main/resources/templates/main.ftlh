<#import "layout.ftlh" as main>
<@main.layout title="–ì–ª–∞–≤–Ω–∞—è">
    <div class="container mt-4">
        <div class="hero-section mb-5" id="hero-container">
        </div>

        <div class="alert alert-warning mb-5">
            <div class="d-flex align-items-center">
                <div class="announcement-icon me-3">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="flex-grow-1">
                    <h4 class="mb-1">üèÜ –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞ 2025</h4>
                    <p class="mb-0">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∞ –¥–æ 15 –∏—é–ª—è 2025. –ü–æ–∫–∞–∂–∏ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –Ω–∞ —Ä–µ—Å–ø—É–±–ª–∏–∫–∞–Ω—Å–∫–æ–º
                        —É—Ä–æ–≤–Ω–µ!</p>
                </div>
                <div class="announcement-action">
                    <a href="/olympiads/national-2025" class="btn btn-primary">–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É</a>
                </div>
            </div>
        </div>

        <!-- –ù–æ–≤–æ—Å—Ç–∏ - Main Content -->
        <div class="row g-4 mb-5">
            <!-- Featured News Carousel -->
            <div class="col-lg-8">
                <div class="section-header mb-3">
                    <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏</h3>
                </div>
                <div id="newsCarousel" class="carousel slide card" data-bs-ride="carousel">
                    <div class="carousel-indicators" id="news-carousel-indicators">
                        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    <div class="carousel-inner" id="news-carousel-inner">
                        <!-- –°–ª–∞–π–¥—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        <div class="carousel-item active d-flex justify-content-center align-items-center"
                             style="height: 400px;">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π...</span>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#newsCarousel"
                            data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#newsCarousel"
                            data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>

            <!-- Latest News Sidebar -->
            <div class="col-lg-4">
                <div class="news-section">
                    <div class="section-header">
                        <h3>–í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏</h3>
                    </div>
                    <div class="news-container" id="news-container">
                        <div class="d-flex justify-content-center p-3">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ -->
        <div class="row g-4 mb-5">
            <!-- Latest Publications Sidebar -->
            <div class="col-lg-4">
                <div class="news-section">
                    <div class="section-header">
                        <h3>–í—Å–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</h3>
                    </div>
                    <div class="news-container" id="post-container">
                        <div class="d-flex justify-content-center p-3">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Featured Publications Carousel -->
            <div class="col-lg-8">
                <div class="section-header mb-3">
                    <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</h3>
                </div>
                <div id="publicationsCarousel" class="carousel slide card" data-bs-ride="carousel">
                    <div class="carousel-indicators" id="publications-carousel-indicators">
                        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    <div class="carousel-inner" id="publications-carousel-inner">
                        <!-- –°–ª–∞–π–¥—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–π –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        <div class="carousel-item active d-flex justify-content-center align-items-center"
                             style="height: 400px;">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π...</span>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#publicationsCarousel"
                            data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#publicationsCarousel"
                            data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Upcoming Events -->
        <div class="events-section mb-5">
            <div class="section-header mb-4">
                <h3>–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è</h3>
            </div>
            <div class="events-scroll-container">
                <div class="events-scroll-wrapper" id="eventsScroll">
                    <div class="event-card-wrapper">
                        <div class="card event-card">
                            <div class="event-image">
                                <img src="https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=400&h=300&fit=crop"
                                     alt="–í–µ–±–∏–Ω–∞—Ä –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫ –û–†–¢">
                                <div class="event-date-overlay">
                                    <span class="event-day">25</span>
                                    <span class="event-month">–ò–Æ–ù</span>
                                </div>
                            </div>
                            <div class="event-content">
                                <h5>–í–µ–±–∏–Ω–∞—Ä –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫ –û–†–¢</h5>
                            </div>
                        </div>
                    </div>

                    <div class="event-card-wrapper">
                        <div class="card event-card">
                            <div class="event-image">
                                <img src="https://images.unsplash.com/photo-1477281765962-ef34e8bb0967?w=400&h=300&fit=crop"
                                     alt="–õ–µ—Ç–Ω—è—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —à–∫–æ–ª–∞">
                                <div class="event-date-overlay">
                                    <span class="event-day">2</span>
                                    <span class="event-month">–ò–Æ–õ</span>
                                </div>
                            </div>
                            <div class="event-content">
                                <h5>–õ–µ—Ç–Ω—è—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —à–∫–æ–ª–∞</h5>
                            </div>
                        </div>
                    </div>

                    <div class="event-card-wrapper">
                        <div class="card event-card">
                            <div class="event-image">
                                <img src="https://images.unsplash.com/photo-1543269865-cbf427effbad?w=400&h=300&fit=crop"
                                     alt="–ì–æ—Ä–æ–¥—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞">
                                <div class="event-date-overlay">
                                    <span class="event-day">15</span>
                                    <span class="event-month">–ò–Æ–õ</span>
                                </div>
                            </div>
                            <div class="event-content">
                                <h5>–ì–æ—Ä–æ–¥—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞</h5>
                            </div>
                        </div>
                    </div>

                    <div class="event-card-wrapper">
                        <div class="card event-card">
                            <div class="event-image">
                                <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=400&h=300&fit=crop"
                                     alt="–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–µ">
                                <div class="event-date-overlay">
                                    <span class="event-day">28</span>
                                    <span class="event-month">–ò–Æ–õ</span>
                                </div>
                            </div>
                            <div class="event-content">
                                <h5>–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–µ</h5>
                            </div>
                        </div>
                    </div>

                    <div class="event-card-wrapper">
                        <div class="card event-card">
                            <div class="event-image">
                                <img src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=400&h=300&fit=crop"
                                     alt="–†–µ—Å–ø—É–±–ª–∏–∫–∞–Ω—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞">
                                <div class="event-date-overlay">
                                    <span class="event-day">5</span>
                                    <span class="event-month">–ê–í–ì</span>
                                </div>
                            </div>
                            <div class="event-content">
                                <h5>–†–µ—Å–ø—É–±–ª–∏–∫–∞–Ω—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Access Section -->
        <div class="quick-access-section mb-5">
            <div class="section-header mb-4">
                <h3>–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø</h3>
            </div>
            <div class="row g-4">
                <div class="col-lg-3 col-md-6">
                    <div class="card text-center h-100">
                        <div class="card-body">
                            <div class="card-icon mb-3">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <h4>–¢–µ—Å—Ç—ã</h4>
                            <p class="h-25">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏</p>
                            <a href="/tests" class="btn btn-primary mt-3">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="card text-center h-100">
                        <div class="card-body">
                            <div class="card-icon mb-3">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <h4>–û–ª–∏–º–ø–∏–∞–¥—ã</h4>
                            <p class="h-25">–£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –æ–ª–∏–º–ø–∏–∞–¥–∞—Ö —Ä–∞–∑–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è</p>
                            <a href="/olympiads" class="btn btn-primary mt-3">–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="card text-center h-100">
                        <div class="card-body">
                            <div class="card-icon mb-3">
                                <i class="fas fa-book"></i>
                            </div>
                            <h4>–ö–Ω–∏–≥–∏</h4>
                            <p class="h-25">–ò–∑—É—á–∞–π—Ç–µ –º–∞—Ç–µ–º–∞—Ç–∏–∫—É –ø–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —É—á–µ–±–Ω–∏–∫–∞–º</p>
                            <a href="/books" class="btn btn-primary mt-3">–ò–∑—É—á–∞—Ç—å</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="card text-center h-100">
                        <div class="card-body">
                            <div class="card-icon mb-3">
                                <i class="fas fa-users"></i>
                            </div>
                            <h4>–°–æ–æ–±—â–µ—Å—Ç–≤–æ</h4>
                            <p class="h-25">–û–±—â–∞–π—Ç–µ—Å—å —Å –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞–º–∏ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏</p>
                            <a href="/community" class="btn btn-primary mt-3">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Blog Section -->
        <div class="blog-section mb-5">
            <div class="section-header mb-4">
                <h3>–ë–ª–æ–≥</h3>
            </div>
            <div class="blog-masonry-grid"></div>

            <div class="text-center mt-4">
                <a href="/blog" class="btn btn-outline-primary">–í—Å–µ —Å—Ç–∞—Ç—å–∏ –±–ª–æ–≥–∞</a>
            </div>
        </div>

    </div>

    <script>
        function createCarouselItem(item, index, carouselId, itemUrlPrefix, defaultImage) {
            const imageUrl = item.mainImageId ? `/api/files/`+item.mainImageId+`/view` : defaultImage;

            let title, description;
            if (item.newsTranslations && item.newsTranslations.length > 0) {
                title = truncateText(item.newsTranslations[0].title || '–ó–∞–≥–æ–ª–æ–≤–æ–∫', 10);
                description = truncateText(item.newsTranslations[0].content, 20);
            } else if (item.postTranslations && item.postTranslations.length > 0) {
                title = truncateText(item.postTranslations[0].title || '–ó–∞–≥–æ–ª–æ–≤–æ–∫', 10);
                description = truncateText(item.postTranslations[0].content, 20);
            } else {
                title = truncateText(item.title || '–ó–∞–≥–æ–ª–æ–≤–æ–∫', 10);
                description = truncateText(
                    item.description || (item.content ? item.content : '–ü–æ–¥—Ä–æ–±–Ω–µ–µ...'),
                    20
                );
            }


            const indicator = document.createElement('button');
            indicator.type = 'button';
            indicator.setAttribute('data-bs-target', `#`+carouselId+``);
            indicator.setAttribute('data-bs-slide-to', index.toString());
            indicator.setAttribute('aria-label', `Slide `+index + 1+``);
            if (index === 0) {
                indicator.classList.add('active');
                indicator.setAttribute('aria-current', 'true');
            }

            // –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª–∞–π–¥–∞
            const carouselItem = document.createElement('div');
            carouselItem.className = index === 0 ? 'carousel-item active' : 'carousel-item';
            carouselItem.innerHTML =
                '<img src="' + imageUrl + '" ' +
                'class="d-block w-100 carousel-image" ' +
                'alt="' + title + '" ' +
                'style="height: 400px; object-fit: cover;">' +
                '<div class="carousel-caption">' +
                '<div class="caption-content">' +
                '<h5>' + title + '</h5>' +
                '<p>' + description + '</p>' +
                '<a href="' + itemUrlPrefix + '/' + item.id + '" class="btn btn-primary btn-sm">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>' +
                '</div>' +
                '</div>';


            return { indicator, carouselItem };
        }

        function truncateText(text, maxLength) {
            if (!text) return '';
            return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;
        }


        async function loadNewsCarousel() {
            try {
                const response = await fetch('/api/news/main');
                const news = await response.json();

                const carouselInner = document.getElementById('news-carousel-inner');
                const carouselIndicators = document.getElementById('news-carousel-indicators');

                if (news && news.length > 0) {
                    carouselInner.innerHTML = '';
                    carouselIndicators.innerHTML = '';

                    news.forEach((item, index) => {
                        const { indicator, carouselItem } = createCarouselItem(
                            item,
                            index,
                            'newsCarousel',
                            '/news',
                            'https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=800&h=400&fit=crop'
                        );

                        carouselIndicators.appendChild(indicator);
                        carouselInner.appendChild(carouselItem);
                    });
                } else {
                    carouselInner.innerHTML = `
                        <div class="carousel-item active">
                            <img src="https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=800&h=400&fit=crop"
                                 class="d-block w-100 carousel-image" alt="–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞">
                            <div class="carousel-caption">
                                <div class="caption-content">
                                    <h5>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h5>
                                    <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏</p>
                                    <a href="/news" class="btn btn-primary btn-sm">–í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏</a>
                                </div>
                            </div>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è –∫–∞—Ä—É—Å–µ–ª–∏:', error);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π –¥–ª—è –∫–∞—Ä—É—Å–µ–ª–∏
        async function loadPublicationsCarousel() {
            try {
                const response = await fetch('/api/posts/main');
                const publications = await response.json();

                const carouselInner = document.getElementById('publications-carousel-inner');
                const carouselIndicators = document.getElementById('publications-carousel-indicators');

                if (publications && publications.length > 0) {
                    carouselInner.innerHTML = '';
                    carouselIndicators.innerHTML = '';

                    publications.forEach((item, index) => {
                        const { indicator, carouselItem } = createCarouselItem(
                            item,
                            index,
                            'publicationsCarousel',
                            '/posts',
                            'https://images.unsplash.com/photo-1596495578065-6e0763fa1178?w=800&h=400&fit=crop'
                        );

                        carouselIndicators.appendChild(indicator);
                        carouselInner.appendChild(carouselItem);
                    });
                } else {
                    carouselInner.innerHTML = `
                        <div class="carousel-item active">
                            <img src="https://images.unsplash.com/photo-1596495578065-6e0763fa1178?w=800&h=400&fit=crop"
                                 class="d-block w-100 carousel-image" alt="–ü—É–±–ª–∏–∫–∞—Ü–∏–∏">
                            <div class="carousel-caption">
                                <div class="caption-content">
                                    <h5>–ü—É–±–ª–∏–∫–∞—Ü–∏–∏</h5>
                                    <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</p>
                                    <a href="/posts" class="btn btn-primary btn-sm">–í—Å–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</a>
                                </div>
                            </div>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–π –¥–ª—è –∫–∞—Ä—É—Å–µ–ª–∏:', error);
            }
        }

        // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å
        async function loadLatestItems(apiUrl, containerId, itemUrlPrefix, fallbackImage) {
            try {
                const response = await fetch(apiUrl);
                if (!response.ok) throw new Error(`–û—à–∏–±–∫–∞ HTTP: `+response.status+``);

                const items = await response.json();
                const container = document.getElementById(containerId);

                if (Array.isArray(items) && items.length > 0) {
                    container.innerHTML = items.map(item => {
                        const imgSrc = item.mainImageId
                            ? `/api/files/`+item.mainImageId+`/view`
                            : fallbackImage;

                        const dateStr = item.createdAt
                            ? new Date(item.createdAt).toLocaleDateString('ru-RU', {
                                year: 'numeric',
                                month: 'long',
                                day: 'numeric'
                            })
                            : '';

                        return '' +
                            '<div class="news-item mb-3">' +
                            '<div class="row g-2">' +
                            '<div class="col-4">' +
                            '<img src="' + imgSrc + '" ' +
                            'alt="' + item.title + '" ' +
                            'class="img-fluid rounded" ' +
                            'style="height: 60px; object-fit: cover; width: 100%;">' +
                            '</div>' +
                            '<div class="col-8">' +
                            '<h6 class="mb-1">' +
                            '<a href="' + itemUrlPrefix + '/' + item.id + '" class="text-decoration-none">' +
                            item.title +
                            '</a>' +
                            '</h6>' +
                            '<small class="text-muted">' + dateStr + '</small>' +
                            '</div>' +
                            '</div>' +
                            '</div>';

                    }).join('');
                } else {
                    container.innerHTML = '<p class="text-muted">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</p>';
                }
            } catch (error) {
                console.error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å `+apiUrl+`:`, error);
                document.getElementById(containerId).innerHTML = '<p class="text-muted">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</p>';
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function () {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—É—Å–µ–ª–µ–π
            loadNewsCarousel();
            loadPublicationsCarousel();

            // –ó–∞–≥—Ä—É–∑–∫–∞ –±–æ–∫–æ–≤—ã—Ö –ø–∞–Ω–µ–ª–µ–π
            loadLatestItems(
                '/api/news/main',
                'news-container',
                '/news',
                'https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=150&h=100&fit=crop'
            );

            loadLatestItems(
                '/api/posts/main',
                'publications-container',
                '/posts',
                'https://images.unsplash.com/photo-1596495578065-6e0763fa1178?w=150&h=100&fit=crop'
            );
        });

    </script>

    <script src="/static/js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
</@main.layout>